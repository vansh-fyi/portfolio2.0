<story-context id=".bmad/bmm/workflows/4-implementation/story-context/template" v="1.1">
  <metadata>
    <epicId>2</epicId>
    <storyId>2.3</storyId>
    <title>Content Preparation for RAG (Refined)</title>
    <status>drafted</status>
    <generatedAt>2025-11-21</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>docs/sprint-artifacts/stories/2-3-content-preparation-for-rag.md</sourceStoryPath>
  </metadata>

  <story>
    <asA>developer</asA>
    <iWant>verify the re-implemented content in the `_content/` directory</iWant>
    <soThat>the RAG system has accurate, non-fictional data for ingestion</soThat>
    <tasks>
      - Task 1: Verify Content Integrity (AC: #1, #2)
        - Check `_content/personal/` for `bio.md`, `skills.md`, `experience.md`, `interests.md`
        - Verify content reflects actual background (Physics -> UX -> AI)
        - Check `_content/projects/` for `portfolio-website` and other projects
        - Verify no residual fictional/placeholder content remains

      - Task 2: Verify Metadata & Structure (AC: #3, #4)
        - Validate YAML frontmatter in all files
        - Ensure `projectId` in project files matches `src/data/projects.ts`
        - Ensure `type` field is correctly set (`personal` vs `project`)

      - Task 3: Prepare for Ingestion (AC: #4)
        - Confirm file paths align with what the ingestion script (Story 4.2) expects
        - Add any missing "source of truth" documentation if needed
    </tasks>
  </story>

  <acceptanceCriteria>
    <criterion id="1">
      <given>the `_content/` directory</given>
      <when>I inspect the files</when>
      <then>they contain real information about Vansh (not placeholder text)</then>
    </criterion>
    <criterion id="2">
      <and>the directory structure matches the architecture requirements (`personal/`, `projects/`)</and>
    </criterion>
    <criterion id="3">
      <and>all markdown files have valid YAML frontmatter with `type`, `category`, and `projectId` (where applicable)</and>
    </criterion>
    <criterion id="4">
      <and>the content is ready for the ingestion script (Epic 4.2) to process without errors</and>
    </criterion>
  </acceptanceCriteria>

  <artifacts>
    <docs>
      <doc>
        <path>_content/README.md</path>
        <title>Content Directory Documentation</title>
        <section>Directory Structure & Frontmatter Schema</section>
        <snippet>Defines the required structure: `_content/personal/` and `_content/projects/`. Specifies YAML frontmatter schema including `type`, `category`, `projectId`, and `source`.</snippet>
      </doc>
      <doc>
        <path>docs/ursa-personality-guide.md</path>
        <title>Ursa Personality Guide</title>
        <section>Core Personality Traits</section>
        <snippet>Defines the voice (first-person), tone (conversational, authentic), and style (narrative flow) that all content must adhere to.</snippet>
      </doc>
    </docs>

    <code>
      <artifact>
        <path>_content/personal/bio.md</path>
        <kind>content</kind>
        <symbol>Personal Bio</symbol>
        <lines>1-7</lines>
        <reason>Sample personal content file to verify frontmatter and voice.</reason>
      </artifact>
      <artifact>
        <path>_content/projects/portfolio-website/overview.md</path>
        <kind>content</kind>
        <symbol>Project Overview</symbol>
        <lines>1-7</lines>
        <reason>Sample project content file to verify frontmatter and projectId alignment.</reason>
      </artifact>
      <artifact>
        <path>vansh.fyi/src/data/projects.ts</path>
        <kind>data</kind>
        <symbol>projects</symbol>
        <lines>23-31</lines>
        <reason>Source of truth for valid `projectId` values. Content directories must match these IDs.</reason>
      </artifact>
    </code>

    <dependencies>
      <node>
        <none>Content verification only - no code dependencies</none>
      </node>
    </dependencies>
  </artifacts>

  <constraints>
    <constraint>Content must be derived from `/rag` source files where possible.</constraint>
    <constraint>All content must be in first-person voice ("I", "my").</constraint>
    <constraint>Frontmatter must be valid YAML.</constraint>
    <constraint>Project IDs must match `src/data/projects.ts` exactly.</constraint>
  </constraints>

  <interfaces>
    <interface>
      <name>YAML Frontmatter</name>
      <kind>Data Schema</kind>
      <signature>
        type: 'personal' | 'project'
        category: string
        projectId?: string
        lastUpdated: string
        tags?: string[]
        source?: string
      </signature>
      <path>_content/README.md</path>
    </interface>
  </interfaces>

  <tests>
    <standards>
      Manual verification of file content and metadata.
    </standards>
    <locations>
      _content/
    </locations>
    <ideas>
      <test ac="1">Read `_content/personal/bio.md` to ensure it mentions Physics background.</test>
      <test ac="3">Check `_content/projects/portfolio-website/overview.md` for `projectId: portfolio-website`.</test>
      <test ac="2">Verify `_content/projects/` contains a folder named `portfolio-website`.</test>
    </ideas>
  </tests>
</story-context>
